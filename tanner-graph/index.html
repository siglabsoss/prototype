<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="3rd/d3.min.js"></script>
    <script type="text/javascript" src="3rd/jquery-2.1.0.min.js"></script>
</head>
<body>
    <div id="viz"></div>
    <script type="text/javascript">

    var bitY = 50;
    var bitX = 50;
    var checkY = 50;
    var checkX = 200;

    function newBitNode(sampleSVG)
    {
        // var sampleSVG = d3.select("#viz");

        

        sampleSVG.append("circle")
        .style("stroke", "gray")
        .style("fill", "white")
        .attr("r", 25)
        .attr("cx", bitX)
        .attr("cy", bitY)
        // .on("mouseover", function(){d3.select(this).style("fill", "aliceblue");})
        // .on("mouseout", function(){d3.select(this).style("fill", "white");});

        bitY += 75;
    }

    function newCheckNode(sampleSVG)
    {
        // var sampleSVG = d3.select("#viz");

        sampleSVG.append("rect")
         .attr("x", checkX)
         .attr("y", checkY)
        .attr("width", 45)
        .attr("height", 45)
        .style("stroke", "gray")
        .style("fill", "gray");
        

        // sampleSVG.append("rectangle")
        // .style("stroke", "gray")
        // .style("fill", "white")
        // .attr("r", 25)
        // .attr("cx", 50)
        // .attr("cy", bitY)
        // .on("mouseover", function(){d3.select(this).style("fill", "aliceblue");})
        // .on("mouseout", function(){d3.select(this).style("fill", "white");});

        checkY += 75;
    }

    function parseMatrix()
    {
        var $textarea = $('#matrixtext');
        var mat = JSON.parse($textarea.val());

        var m = mat.length;
        var n = mat[0].length;
        var k = n-m;

        console.log("Matrix is sized " + m + " x " + n + " (M * N)");
        console.log("Ldpc notation is (" + n + ", " + k + ")");
        console.log("Matrix k is " + k);



        $.each(mat, function( rowIndex, row ) {

            if( row.length != n )
                alert("matrix row " + rowIndex + " has length " + row.length + " which doesn't match " + n);

            
        });

        console.log(m);
    }

    var sampleSVG = d3.select("#viz")
        .append("svg")
        .attr("width", 400)
        .attr("height", 300);    


    //     var ress = d3.select("#viz").append("svg");

    // ress.append("circle")
    //     .style("stroke", "gray")
    //     .style("fill", "white")
    //     .attr("r", 40)
    //     .attr("cx", 50)
    //     .attr("cy", 50)
    //     .on("mouseover", function(){d3.select(this).style("fill", "aliceblue");})
    //     .on("mouseout", function(){d3.select(this).style("fill", "white");});
    
    newBitNode(sampleSVG);
    newBitNode(sampleSVG);
    newCheckNode(sampleSVG);
    newCheckNode(sampleSVG);

    </script>
    <textarea id="matrixtext" rows="4" cols="40">
[[1,0,0,0,1,1,1],
[0,1,0,1,0,1,1],
[0,0,1,1,1,0,1]]
    </textarea>
    <br><button onClick="parseMatrix()" type="button">go</button>
</body>
</html>